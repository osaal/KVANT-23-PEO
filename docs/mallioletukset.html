<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fi" xml:lang="fi"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Kvantitatiiviset menetelmät -kurssin verkkokirja - 4&nbsp; Mallioletukset ja virhe</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./sijaintiluvut.html" rel="next">
<link href="./hypoteesitestaus.html" rel="prev">
<link href="./pics/logo_lapinakyva.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Ei tuloksia",
    "search-matching-documents-text": "tulokset",
    "search-copy-link-title": "Kopioi linkki hakuun",
    "search-hide-matches-text": "Piilota loput tulokset",
    "search-more-match-text": "tulos tässä dokumentissa",
    "search-more-matches-text": "tulosta tässä dokumentissa",
    "search-clear-button-title": "Tyhjennä",
    "search-detached-cancel-button-title": "Peruuta",
    "search-submit-button-title": "Lähetä"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Vaihda sivupalkki" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./hypoteesitestaus.html">Tilastotiede</a></li><li class="breadcrumb-item"><a href="./mallioletukset.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Mallioletukset ja virhe</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Vaihda sivupalkki" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Hae" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-end sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Kvantitatiiviset menetelmät -kurssin verkkokirja</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/osaal/KVANT-23-PEO/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Hae"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Aluksi</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Ohjeita</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Vaihda osio">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./grafiikka.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Visualisoinnin alkeet</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./viittaaminen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Ohjeita viittaamiseen</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Tilastotiede</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Vaihda osio">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hypoteesitestaus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hypoteesitestaus</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mallioletukset.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Mallioletukset ja virhe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sijaintiluvut.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Sijaintiluvut</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hajontaluvut.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Hajontaluvut</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./merkitsevyysluvut.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Merkitsevyysluvut</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./eiparametrisettestit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Ei-parametriset testit</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ttesti.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">T-testi</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./korrelaatio.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Korrelaatio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./khiinneliö.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Khiin neliö <span class="math inline">\(\chi^2\)</span></span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Excel-toiminnot</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Vaihda osio">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excelinperusteet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Excelin perusteet</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excelinkäyttöliittymä.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Excelin käyttöliittymä</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nimienhallinta.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Nimeäminen Excelissä</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./exceltoimintoja.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Yleisiä toimintoja Excelissä</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./excelgrafiikka.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Grafiikka Excelissä</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./funktiot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Funktiot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lambdakaavat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">LAMBDA-kaavoja</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Työkalut</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Vaihda osio">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./webropol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Webropol</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./muuttilastotyökalut.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Tilastotyökalut</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dmptuuli.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">DMPTuuli</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tietoarkistot.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Tietoarkistot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zotero.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Zotero-lähdehallintatyökalu</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Viiteluettelo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./history.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Päivityshistoria</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Sisällysluettelo</h2>
   
  <ul>
  <li><a href="#lineaarisen-mallin-perusoletukset" id="toc-lineaarisen-mallin-perusoletukset" class="nav-link active" data-scroll-target="#lineaarisen-mallin-perusoletukset"><span class="header-section-number">4.1</span> Lineaarisen mallin perusoletukset</a>
  <ul class="collapse">
  <li><a href="#additiviteetti-ja-lineariteetti" id="toc-additiviteetti-ja-lineariteetti" class="nav-link" data-scroll-target="#additiviteetti-ja-lineariteetti"><span class="header-section-number">4.1.1</span> Additiviteetti ja lineariteetti</a></li>
  <li><a href="#normaalijakautuminen" id="toc-normaalijakautuminen" class="nav-link" data-scroll-target="#normaalijakautuminen"><span class="header-section-number">4.1.2</span> Normaalijakautuminen</a></li>
  <li><a href="#varianssihomogeniteetti" id="toc-varianssihomogeniteetti" class="nav-link" data-scroll-target="#varianssihomogeniteetti"><span class="header-section-number">4.1.3</span> Varianssihomogeniteetti</a></li>
  <li><a href="#riippumattomuus" id="toc-riippumattomuus" class="nav-link" data-scroll-target="#riippumattomuus"><span class="header-section-number">4.1.4</span> Riippumattomuus</a></li>
  </ul></li>
  <li><a href="#sec-mallioletusten-testaaminen-tilastollisesti" id="toc-sec-mallioletusten-testaaminen-tilastollisesti" class="nav-link" data-scroll-target="#sec-mallioletusten-testaaminen-tilastollisesti"><span class="header-section-number">4.2</span> Mallioletusten testaaminen tilastollisesti</a></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/osaal/KVANT-23-PEO/issues/new" class="toc-action">Ilmoita ongelmasta</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-mallioletukset" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Mallioletukset ja virhe</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Tilastollisilla malleilla on <strong>oletuksia</strong> datasi muodosta ja käyttäytymisestä. Näihin oletuksiin on tärkeää vastata, sillä mallin matemaattinen toiminta on todettu vain tilanteissa, jossa oletukset täyttyvät. Jos jokin oletus ei täyty, se voi vaikuttaa hyvin eri tavoin mallin tuloksiin - ja pahimmassa tapauksessa johtaa täysin vääriin tuloksiin.</p>
<section id="lineaarisen-mallin-perusoletukset" class="level2 page-columns page-full" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="lineaarisen-mallin-perusoletukset"><span class="header-section-number">4.1</span> Lineaarisen mallin perusoletukset</h2>
<p>Kaikki tilastolliset testit joita sovelletaan tällä kurssilla tulevat niin sanotusta <strong>lineaaristen mallien perheestä</strong>. Tämä yksinkertaisesti tarkoittaa, että ne mallintavat kahden muuttujan välistä suhdetta suorana käyränä, eikä esim. parabolina tai potenssikäyränä.</p>
<p>Lineaarisilla malleilla on kaikilla samat perusoletukset. Näiden lisäksi jokaisella mallilla voi olla omat oletukset tai muokkaukset johonkin perusoletukseen.</p>
<p>Voidaan myös puhua <strong>virhelähteistä</strong>. Mallioletusten rikkominen on yksi virheen lähde, sillä tämä vaikuttaa mallin lopputuloksiin tavalla, joka ei edusta itse dataa tai mitattua suhdetta.</p>
<div class="page-columns page-full"><p>Kaikille malleille, myös ei-lineaarisille, ensimmäinen ja ehkä tärkein virheen lähde on <strong>ääripääarvot</strong> tai <strong>poikkeavat havainnot</strong>.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Jotta malli toimisi hyvin, ääripääarvoja ei tulisi olla mukana.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Tällä hetkellä verkkokirja käyttää sanaa “ääripääarvo”. Käännös on kuitenkin huono, ja aion vaihtaa sen termiin “poikkeavat havainnot” - mutta koska sana löytyy viljeltynä koko kirjan läpi, muutostyössä menee tovi…</p></li></div></div>
<p>Näiden lisäksi lineaarisilla malleilla on seuraavat oletukset: <strong>additiviteetti, lineariteetti, normaalijakautuminen, varianssihomogeniteetti</strong> sekä <strong>riippumattomuus</strong>.</p>
<section id="additiviteetti-ja-lineariteetti" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="additiviteetti-ja-lineariteetti"><span class="header-section-number">4.1.1</span> Additiviteetti ja lineariteetti</h3>
<p>Ensimmäiset oletukset ovat suhteellisen yksinkertaisia, mutta erittäin tärkeitä lineaarisille malleille.</p>
<p><strong>Additiviteetilla</strong> tarkoitetaan, että suhde muuttujien välillä tulisi olla summaava. Tämän voi tunnistaa yksinkertaisesti ajattelemalla: riippuvatko muuttujien suhteet toisistaan? Additiviteetti on tärkeintä monimuuttujamalleissa, joissa on useampi kuin yksi selittävä muuttuja, joten sen voi osittain jo olettaa tämän kurssin malleissa. Jos additiviteettia ei kuitenkaan voi taata, tulisi käyttää jotain muuta, kuin lineaarista mallia - emme kuitenkaan käsittele näitä tällä kurssilla.</p>
<p><strong>Lineariteetilla</strong> taas tarkoitetaan, että muuttujien välinen suhde tulisi olla selitettävissä <strong>suoralla käyrällä</strong>. Suhteen ei siis pidä olla parabolinen, eksponentiaalinen tai logaritminen. Tämän tunnistaa helpoiten piirtämällä <strong>pistekaavion</strong> muuttujista (ks. <a href="grafiikka.html#sec-pistekaavio-teoria"><span>Alaluku&nbsp;1.4.5</span></a>) ja tarkastamalla, asettuvatko pisteet jokseenkin suoralle viivalle. Jos suhde ei ole lineaarinen, lineaariset mallit eivät luonnollisesti kuvasta suhdetta varsin hyvin. Tämän voi korjata linearisoimalla data logaritmilla tai potenssilla (riippuen suhteen muodosta), tai vaihtamalla epälineaarisiin malleihin.</p>
</section>
<section id="normaalijakautuminen" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="normaalijakautuminen"><span class="header-section-number">4.1.2</span> Normaalijakautuminen</h3>
<p>Lineaarisissa malleissa <strong>jonkun asian</strong> tulee olla normaalijakautunut, eli seurata normaalijakaumaa. Tämä ei kuitenkaan tarkoita itse dataa! Mitä tämä tarkoittaa, riippuu aina hieman itse mallista.</p>
<p><u>Yleisesti katsottuna mittauksen otanta tulisi olla normaalijakautunut</u>. Toisin sanoen, jos saamme tietyn mitan, niin sen todennäköisyys tulisi pystyä määritellä normaalijakauman avulla (ks. <a href="hypoteesitestaus.html#sec-nollahypoteesin-testaaminen"><span>Alaluku&nbsp;3.2</span></a>).</p>
<p><u>Suurissa otoksissa normaalijakautuminen oletetaan</u>, kiitos <strong>suurten numeroiden lain</strong>. Pienissä otoksissa tämä voi kuitenkin osoittautua ongelmaksi. Tällöin käytetään yleensä <strong>ei-parametristä testiä</strong>, joka ei riipu yhtä lailla tästä oletuksesta.</p>
<p>Monimuuttujamalleissa myös <strong>virhemittauksen tulisi olla normaalijakautunut</strong>. Koska tämä kurssi ei käsittele monimuuttujamalleja, tästä ei tarvitse kummemmin välittää.</p>
</section>
<section id="varianssihomogeniteetti" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="varianssihomogeniteetti"><span class="header-section-number">4.1.3</span> Varianssihomogeniteetti</h3>
<p><strong>Varianssihomogeniteetti</strong>, myös <strong>homoskedastisiteetti</strong>, on oikea hirviösana. Sillä tarkoitetaan, että muuttujan varianssi (vaihtelu) tulisi olla sama toisen muuttujan kaikilla kategorioilla. Jos piirrämme pistekaavion kahden muuttujan välisestä suhteesta, vaihtelu yhdellä muuttujalla tulisi siis pysyä jokseenkin samana kaikilla tasoilla toista muuttujaa. Tämän ymmärtää helpoiten kuvassa:</p>
<div id="fig-skedastisiteetti" class="quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pics/Homoscedasticity.png" class="img-fluid figure-img" alt="Pistekaavio. Datapisteet esittävät homoskedastista suhdetta, ja asettuvat suoralle viivalle kaavion diagonaalille."></p>
<figcaption class="figure-caption">Homogeeninen, tai homoskedastinen, suhde</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="pics/Heteroscedasticity.png" class="img-fluid figure-img" alt="Pistekaavio. Datapisteet esittävät heteroskedastista suhdetta, ja asettuvat trumpetin muotoon kaavion diagonaalille."></p>
<figcaption class="figure-caption">Heterogeeninen, tai heteroskedastinen, suhde</figcaption>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Kuva&nbsp;4.1: Skedastisuuden esimerkkejä. Molemmat kuvat ovat lisenssoitu CC-BY-SA 4.0 -lisenssillä. Tekijä: <a href="https://en.wikipedia.org/wiki/User:Kokiri">Q9, englanninkielinen Wikipedia.</a></figcaption><p></p>
</figure>
</div>
<p><u>Skedastisuuden tunnistamiseksi löytyy myös tilastollisia testejä</u>, esimerkiksi Levenen testi. Nämä testit ovat kuitenkin laajasti merkitseviä suurissa otoksissa, jolloin niiden käyttökelpoisuus on heikkoa. Siksi on useimmin parempi joko tarkistaa skedastisuuden visuaalisesti (kuten yllä), tai yksinkertaisesti olettaa heteroskedastisuutta.</p>
<p><u>Jos heteroskedastisuutta esiintyy (eli suhde ei ole varianssihomogeninen)</u>, monet kaksimuuttujamitat voivat olla hieman väärässä. Näille löytyy kuitenkin usein <strong>robusti</strong> versio, tai toinen vaihtoehto. Tarkista aina jokaisen testin kohdalla, mitä tulisi tehdä jos testattava suhteesi on heteroskedastinen!</p>
</section>
<section id="riippumattomuus" class="level3" data-number="4.1.4">
<h3 data-number="4.1.4" class="anchored" data-anchor-id="riippumattomuus"><span class="header-section-number">4.1.4</span> Riippumattomuus</h3>
<p><strong>Riippumattomuus</strong> viittaa virhemittausten riippumattomuuten. Toisin sanoen, jokaisen muuttujan virhemittaus (ero suhteen mittariin, esim. korrelaatioon, regressioon tai keskiarvoon) tulisi olla riippumaton kaikista muista. Jos virheiden välillä esiintyy korrelaatiota, riippumattomuuden oletus on rikottu.</p>
<p><u>Riippumattomuuden rikkominen vaikuttaa eniten <strong>merkitsevyystesteihin</strong></u> (keskivirheeseen, ja sitä kautta luottamusväleihin ja p-arvoon).</p>
<p><u>Riippumattomuuden voit tarkistaa laskemalla kaikki virheet ja korreloimalla ne yhteen</u>. Korrelaatiota ei tulisi esiintyä (suuressa määrin).</p>
<p><u>Jos virheet eivät ole riippumattomia</u>, sinun tulisi käyttää <strong>monitasomallia</strong> (engl. <em>multi-level model</em>). Nämä ovat jo haastavia - tilastotieteen käsikirjoissa ne esiintyvät usein viimeisissä luvuissa - joten niitä en suosittele tekemään Excelissä.</p>
</section>
</section>
<section id="sec-mallioletusten-testaaminen-tilastollisesti" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="sec-mallioletusten-testaaminen-tilastollisesti"><span class="header-section-number">4.2</span> Mallioletusten testaaminen tilastollisesti</h2>
<p>Koska oletuksia on paljon ja ne vaikuttavat eri tavoin, alla on kooste niiden testaamisvaihtoehdoista:</p>
<ul>
<li><p><strong>Ääripääarvot</strong>:</p>
<ul>
<li><p>Laske kaikille arvoille z-arvo. Ne arvot, jotka ylittävät <span class="math inline">\(z = \pm3\)</span> voidaan laskea ääripääarvoiksi.</p></li>
<li><p>Laske arvon jakaumalle ylä- ja alakvartiilit, sekä kvartiiliväli <span class="math inline">\(\text{IQR}\)</span> (alakvartiili - yläkvartiili). Lisää yläkvartiiliin, ja vähennä alakvartiilista, arvo <span class="math inline">\(1.5 * \text{IQR}\)</span>. Ne arvot, jotka jäävät näiden rajojen ulkopuolelle voidaan laskea ääripääarvoiksi.</p></li>
</ul></li>
<li><p><strong>Additiviteetti ja lineariteetti</strong>:</p>
<ul>
<li><p>Additiviteetti on looginen väite, joten joudut käyttämään teoriaa ja motivoimaan asiaa.</p></li>
<li><p>Lineariteetin voit nähdä pistekaaviosta - näyttääkö muuttujien välinen suhde suoralta käyrältä?</p></li>
</ul></li>
<li><p><strong>Normaalijakautuminen</strong>:</p>
<ul>
<li><p>Suurissa otoksissa normaalijakautuminen oletetaan.</p></li>
<li><p>Pienissä otoksissa sitä ei voi taata, joten on parempi käyttää ei-parametristä testiä.</p></li>
</ul></li>
<li><p><strong>Varianssihomogeniteetti</strong>:</p>
<ul>
<li><p>Helpoin tapa on (taas) tarkistaa pistekaavio - näyttääkö muuttujien välinen suhde suoralta, vai esiintyykö siinä trumpetin tai kolmion muotoa?</p></li>
<li><p>Homoskedastisuutta voi myös testata Levenen testillä (ANOVA-malli suhteen virhemittauksella), mutta se on usein merkitsevä suurissa otoksissa.</p></li>
<li><p>Toinen vaihtoehto on <strong>Hartley’n F-max-testi</strong>: Ota suurin löytämäsi varianssi ja jaa se pienimmällä löytämäsi varianssilla. Lopputulos tarkastetaan kriittisen arvon taulukosta. Myös tämä testi on merkitsevyystesti, eli sen merkitsevyys nousee otoskoon myötä, mikä tekee siitä ongelmallisen.</p></li>
</ul></li>
<li><p><strong>Riippumattomuus:</strong></p>
<ul>
<li>Laske molempien muuttujien virheet mitatusta arvosta ja korreloi tulos yhteen. Korrelaation tulisi olla pieni/olematon.</li>
</ul></li>
</ul>


</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopioitu!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopioitu!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./hypoteesitestaus.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Hypoteesitestaus</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./sijaintiluvut.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Sijaintiluvut</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>